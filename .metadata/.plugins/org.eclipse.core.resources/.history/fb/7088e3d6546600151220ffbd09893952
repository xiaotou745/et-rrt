<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.renrentui.renrenapi.dao.inter.IBusinessDao" >
  <resultMap id="BaseResultMap" type="com.renrentui.renrenentity.Business" >
    <id column="Id" property="id" jdbcType="BIGINT" />
    <result column="CompanyName" property="companyname" jdbcType="NVARCHAR" />
    <result column="PhoneNo" property="phoneno" jdbcType="VARCHAR" />
    <result column="PassWord" property="password" jdbcType="VARCHAR" />
    <result column="LoginName" property="loginname" jdbcType="VARCHAR" />
    <result column="Logo" property="logo" jdbcType="NVARCHAR" />
    <result column="Address" property="address" jdbcType="VARCHAR" />
    <result column="CityCode" property="citycode" jdbcType="INTEGER" />
    <result column="CityName" property="cityname" jdbcType="NVARCHAR" />
    <result column="WebSite" property="website" jdbcType="VARCHAR" />
  </resultMap>
  <sql id="Base_Column_List" >
    Id, CompanyName, PhoneNo, PassWord, LoginName, Logo, Address, CityCode, CityName, 
    WebSite
  </sql>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Long" >
    select 
    <include refid="Base_Column_List" />
    from Business
    where Id = #{id,jdbcType=BIGINT}
  </select>
  	<select id="getBusinessList" resultType=" com.renrentui.renrenentity.Business"
		parameterType="com.renrentui.renrenentity.req.PagedBusinessReq"
		statementType="CALLABLE">
		{call Sp_CustomPage2015_V1(
		' Id DESC ',
		'
		<include refid="Base_Column_List" />
		',
		'
		<include refid="getBusinessListFrom" />
		',
		'
		<include refid="getBusinessListWhere" />
		',
		#{pageSize,mode=IN,jdbcType=INTEGER},
		#{currentPage,mode=IN,jdbcType=INTEGER}
		,1,
		#{totalRecord,mode=OUT,jdbcType=INTEGER},
		#{totalPage,mode=OUT,jdbcType=INTEGER}
		)}
	</select>
	
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Long" >
    delete from Business
    where Id = #{id,jdbcType=BIGINT}
  </delete>
  <insert id="insert" parameterType="com.renrentui.renrenentity.Business" >
    insert into Business (Id, CompanyName, PhoneNo, 
      PassWord, LoginName, Logo, 
      Address, CityCode, CityName, 
      WebSite)
    values (#{id,jdbcType=BIGINT}, #{companyname,jdbcType=NVARCHAR}, #{phoneno,jdbcType=VARCHAR}, 
      #{password,jdbcType=VARCHAR}, #{loginname,jdbcType=VARCHAR}, #{logo,jdbcType=NVARCHAR}, 
      #{address,jdbcType=VARCHAR}, #{citycode,jdbcType=INTEGER}, #{cityname,jdbcType=NVARCHAR}, 
      #{website,jdbcType=VARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="com.renrentui.renrenentity.Business" >
    insert into Business
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        Id,
      </if>
      <if test="companyname != null" >
        CompanyName,
      </if>
      <if test="phoneno != null" >
        PhoneNo,
      </if>
      <if test="password != null" >
        PassWord,
      </if>
      <if test="loginname != null" >
        LoginName,
      </if>
      <if test="logo != null" >
        Logo,
      </if>
      <if test="address != null" >
        Address,
      </if>
      <if test="citycode != null" >
        CityCode,
      </if>
      <if test="cityname != null" >
        CityName,
      </if>
      <if test="website != null" >
        WebSite,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        #{id,jdbcType=BIGINT},
      </if>
      <if test="companyname != null" >
        #{companyname,jdbcType=NVARCHAR},
      </if>
      <if test="phoneno != null" >
        #{phoneno,jdbcType=VARCHAR},
      </if>
      <if test="password != null" >
        #{password,jdbcType=VARCHAR},
      </if>
      <if test="loginname != null" >
        #{loginname,jdbcType=VARCHAR},
      </if>
      <if test="logo != null" >
        #{logo,jdbcType=NVARCHAR},
      </if>
      <if test="address != null" >
        #{address,jdbcType=VARCHAR},
      </if>
      <if test="citycode != null" >
        #{citycode,jdbcType=INTEGER},
      </if>
      <if test="cityname != null" >
        #{cityname,jdbcType=NVARCHAR},
      </if>
      <if test="website != null" >
        #{website,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.renrentui.renrenentity.Business" >
    update Business
    <set >
      <if test="companyname != null" >
        CompanyName = #{companyname,jdbcType=NVARCHAR},
      </if>
      <if test="phoneno != null" >
        PhoneNo = #{phoneno,jdbcType=VARCHAR},
      </if>
      <if test="password != null" >
        PassWord = #{password,jdbcType=VARCHAR},
      </if>
      <if test="loginname != null" >
        LoginName = #{loginname,jdbcType=VARCHAR},
      </if>
      <if test="logo != null" >
        Logo = #{logo,jdbcType=NVARCHAR},
      </if>
      <if test="address != null" >
        Address = #{address,jdbcType=VARCHAR},
      </if>
      <if test="citycode != null" >
        CityCode = #{citycode,jdbcType=INTEGER},
      </if>
      <if test="cityname != null" >
        CityName = #{cityname,jdbcType=NVARCHAR},
      </if>
      <if test="website != null" >
        WebSite = #{website,jdbcType=VARCHAR},
      </if>
    </set>
    where Id = #{id,jdbcType=BIGINT}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.renrentui.renrenentity.Business" >
    update Business
    set CompanyName = #{companyname,jdbcType=NVARCHAR},
      PhoneNo = #{phoneno,jdbcType=VARCHAR},
      PassWord = #{password,jdbcType=VARCHAR},
      LoginName = #{loginname,jdbcType=VARCHAR},
      Logo = #{logo,jdbcType=NVARCHAR},
      Address = #{address,jdbcType=VARCHAR},
      CityCode = #{citycode,jdbcType=INTEGER},
      CityName = #{cityname,jdbcType=NVARCHAR},
      WebSite = #{website,jdbcType=VARCHAR}
    where Id = #{id,jdbcType=BIGINT}
  </update>
</mapper>